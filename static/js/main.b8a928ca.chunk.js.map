{"version":3,"sources":["routes.js","services/api.js","pages/HomePage/HomePage.js","pages/SearchBar/SearchBar.js","pages/MoviesPage/MoviesPage.js","pages/Reviews/Reviews.js","pages/Cast/Cast.js","pages/MovieDetailsPage/MovieDetailsPage.js","pages/NotFound/NotFound.js","Nav/Nav.js","App.js","index.js"],"names":["basicUrl","key","SearchFilm","query","axios","get","Credits","id","Reviews","HomePage","state","popular","then","resData","setState","data","results","this","map","el","to","routes","title","Component","SearchBar","value","handleChange","e","target","handleSubmit","preventDefault","onSubmit","props","onChange","type","MoviesPage","fetchFilms","API","res","onSearchSubmit","history","location","push","search","currentSearch","URLSearchParams","prevProps","prevSearch","reviews","moviesId","match","params","resReviews","length","author","content","Cast","cast","resCast","alt","name","src","profile_path","character","MovieDetailsPage","details","genres","returnToPrevLocation","goBack","resDatails","style","display","justifyContent","flexDirection","width","marginBottom","onClick","poster_path","original_title","overview","vote_average","reduce","acc","listStyle","textDecoration","url","exact","path","component","NotFoundPage","Nav","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b8a928ca.chunk.js","sourcesContent":["export default {\n  HOME: '/',\n  MOVIES: '/movies',\n  RESULTS: '/movies/:moviesId/results',\n  MOVIES_DETAILS: '/movies/:moviesId',\n  REVIEWS_MOVIE: '/movies/:moviesId/reviews',\n  CAST_MOVIE: '/movies/:moviesId/cast',\n};\n","/* eslint-disable import/prefer-default-export */\nimport axios from 'axios';\n\n// https://api.themoviedb.org/3/movie/550?api_key=1608e39e330c64cb921ad8bb1f6cfd98\n// https://api.themoviedb.org/3/trending/movie/week?api_key=1608e39e330c64cb921ad8bb1f6cfd98\n// https://api.themoviedb.org/3/search/movie?api_key=1608e39e330c64cb921ad8bb1f6cfd98&language=en-US&query=1\n// https://api.themoviedb.org/3/movie/123/credits?api_key=1608e39e330c64cb921ad8bb1f6cfd98\n// https://api.themoviedb.org/3/movie/123/reviews?api_key=1608e39e330c64cb921ad8bb1f6cfd98&language=en-US&page=1\n\nconst basicUrl = 'https://api.themoviedb.org/3';\nconst key = '1608e39e330c64cb921ad8bb1f6cfd98';\n\nexport const trendingFilms = () =>\n  axios.get(`${basicUrl}/trending/movie/week?api_key=${key}`);\n\nexport const detailFilms = id =>\n  axios.get(`${basicUrl}/movie/${id}?api_key=${key}`);\n\nexport const SearchFilm = (query = '') =>\n  axios.get(`${basicUrl}/search/movie?api_key=${key}&query=${query}`);\n\nexport const Credits = id =>\n  axios.get(`${basicUrl}/movie/${id}/credits?api_key=${key}`);\n\nexport const Reviews = id =>\n  axios.get(\n    `${basicUrl}/movie/${id}/reviews?api_key=${key}&language=en-US&page=1`,\n  );\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport routes from '../../routes';\nimport * as API from '../../services/api';\n\nexport default class HomePage extends Component {\n  state = {\n    popular: [],\n  };\n\n  componentDidMount() {\n    API.trendingFilms().then(resData => {\n      // console.log('resData', resData);\n      this.setState({ popular: resData.data.results });\n    });\n  }\n\n  render() {\n    const { popular } = this.state;\n    return (\n      <div>\n        <h1>Trending today</h1>\n        <ul>\n          {popular.map(el => (\n            <li key={el.id}>\n              <Link to={`${routes.MOVIES}/${el.id}`}> {el.title}</Link>\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass SearchBar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    value: '',\n  };\n\n  handleChange = e => {\n    this.setState({ value: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { onSubmit } = this.props;\n    const { value } = this.state;\n    onSubmit(value);\n    this.setState({ value: '' });\n  };\n\n  render() {\n    const { value } = this.state;\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <input value={value} onChange={this.handleChange} type=\"text\" />\n        <button type=\"submit\">Search</button>\n      </form>\n    );\n  }\n}\n\nexport default SearchBar;\n","/* eslint-disable react/prop-types */\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport * as API from '../../services/api';\nimport SearchBar from '../SearchBar/SearchBar';\nimport routes from '../../routes';\n\nclass MoviesPage extends Component {\n  static propTypes = {\n    history: PropTypes.shape({}).isRequired,\n    location: PropTypes.shape({}).isRequired,\n  };\n\n  state = {\n    results: [],\n    // query: '',\n  };\n\n  componentDidMount() {\n    const { location } = this.props;\n    const currentSearch = new URLSearchParams(location.search).get('search');\n\n    if (!currentSearch) {\n      return;\n    }\n    this.fetchFilms(currentSearch);\n  }\n\n  componentDidUpdate(prevProps) {\n    const prevSearch = new URLSearchParams(prevProps.location.search).get(\n      'search',\n    );\n    const { location } = this.props;\n    const currentSearch = new URLSearchParams(location.search).get('search');\n    if (prevSearch === currentSearch) {\n      return;\n    }\n    this.fetchFilms(currentSearch);\n  }\n\n  fetchFilms = query => {\n    // this.setState({ query });\n    API.SearchFilm(query).then(res => {\n      this.setState({ results: res.data.results });\n    });\n  };\n\n  onSearchSubmit = query => {\n    const { history, location } = this.props;\n    history.push({\n      ...location,\n      search: `?search=${query}`,\n    });\n  };\n\n  render() {\n    const { results } = this.state;\n    return (\n      <div>\n        <SearchBar onSubmit={this.fetchFilms} />\n        <ul>\n          {results.map(el => (\n            <li key={el.id}>\n              <Link to={`${routes.MOVIES}/${el.id}`}> {el.title}</Link>\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default MoviesPage;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport * as API from '../../services/api';\n\nclass Reviews extends Component {\n  static propTypes = {\n    match: PropTypes.shape({\n      params: PropTypes.shape({}.isRequired),\n    }).isRequired,\n  };\n\n  state = {\n    reviews: [],\n  };\n\n  componentDidMount() {\n    this.Reviews();\n  }\n\n  Reviews = () => {\n    const { match } = this.props;\n    const { moviesId } = match.params;\n\n    API.Reviews(moviesId).then(resReviews => {\n      this.setState({ reviews: resReviews.data.results });\n    });\n  };\n\n  render() {\n    const { reviews } = this.state;\n\n    return (\n      <>\n        {reviews.length !== 0 && (\n          <ul>\n            {reviews.map(el => (\n              <li key={el.id}>\n                <p>Author: {el.author}</p>\n                <p>{el.content}</p>\n              </li>\n            ))}\n          </ul>\n        )}\n      </>\n    );\n  }\n}\n\nexport default Reviews;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport * as API from '../../services/api';\n\nclass Cast extends Component {\n  static propTypes = {\n    match: PropTypes.shape({\n      params: PropTypes.shape({}.isRequired),\n    }).isRequired,\n  };\n\n  state = {\n    cast: [],\n  };\n\n  componentDidMount() {\n    this.Credits();\n  }\n\n  Credits = () => {\n    const { match } = this.props;\n    const { moviesId } = match.params;\n\n    API.Credits(moviesId).then(resCast => {\n      this.setState({ cast: resCast.data.cast });\n    });\n  };\n\n  render() {\n    const { cast } = this.state;\n    return (\n      <>\n        <ul>\n          CAST\n          {cast.map(el => (\n            <li key={el.id}>\n              <img\n                alt={el.name}\n                src={`https://image.tmdb.org/t/p/w500${el.profile_path}`}\n              />\n              <p>{el.name}</p>\n              <p>Character: {el.character}</p>\n            </li>\n          ))}\n        </ul>\n      </>\n    );\n  }\n}\n\nexport default Cast;\n","/* eslint-disable react/prop-types */\nimport React, { Component } from 'react';\nimport { NavLink, Switch, Route } from 'react-router-dom';\nimport Reviews from '../Reviews/Reviews';\nimport Cast from '../Cast/Cast';\nimport routes from '../../routes';\nimport * as API from '../../services/api';\n\nexport default class MovieDetailsPage extends Component {\n  state = {\n    details: { genres: [] },\n  };\n\n  componentDidMount() {\n    const { match } = this.props;\n    const { moviesId } = match.params;\n    API.detailFilms(moviesId).then(resDatails => {\n      this.setState({ details: resDatails.data });\n      // console.log('KOLESO :', details);\n    });\n  }\n\n  returnToPrevLocation = () => {\n    const { history } = this.props;\n    history.goBack();\n  };\n\n  render() {\n    const { details } = this.state;\n    const { match } = this.props;\n\n    return (\n      <div\n        style={{\n          display: 'flex',\n          justifyContent: 'space-between',\n          flexDirection: 'column',\n          width: '900px',\n        }}\n      >\n        <button\n          style={{\n            width: '50px',\n            marginBottom: '10px',\n          }}\n          type=\"button\"\n          onClick={this.returnToPrevLocation}\n        >\n          Go back\n        </button>\n        <div>\n          <img\n            src={`https://image.tmdb.org/t/p/w500${details.poster_path}`}\n            alt=\"uniqe\"\n          />\n          <div\n            style={{\n              display: 'flex',\n              flexDirection: 'column',\n              width: '900px',\n            }}\n          >\n            <h2>{details.original_title}</h2>\n            <p>\n              Overview:\n              <br /> {details.overview}\n            </p>\n            <p>\n              User Score <br />\n              {details.vote_average * 10}%\n            </p>\n            <p>\n              Genres <br />\n            </p>\n            {details.genres.reduce((acc, el) => `${acc} ${el.name}`, '')}\n            {/* {details.genres.map(el => el.name)} */}\n          </div>\n        </div>\n        <div>\n          <p>\n            Additional Info <br />\n          </p>\n        </div>\n        <ul\n          style={{\n            listStyle: 'none',\n          }}\n        >\n          <li>\n            <NavLink\n              style={{\n                textDecoration: 'none',\n              }}\n              to={`${match.url}/cast`}\n            >\n              Cast\n            </NavLink>\n          </li>\n          <li>\n            <NavLink\n              style={{\n                textDecoration: 'none',\n              }}\n              to={`${match.url}/reviews`}\n            >\n              Reviews\n            </NavLink>\n          </li>\n        </ul>\n\n        <Switch>\n          <Route exact path={routes.REVIEWS_MOVIE} component={Reviews} />\n          <Route exact path={routes.CAST_MOVIE} component={Cast} />\n        </Switch>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport routes from '../../routes';\n\nconst NotFoundPage = () => {\n  return (\n    <div>\n      <h2>Такая страница не найдена</h2>\n      <p>\n        Вот наша домашняя страница: <NavLink to={routes.HOME}> дом</NavLink>\n      </p>\n    </div>\n  );\n};\n\nexport default NotFoundPage;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport routes from '../routes';\n\nconst Nav = () => {\n  return (\n    <ul\n      style={{\n        display: 'flex',\n        justifyContent: 'space-between',\n        width: '200px',\n        // margin: '0 auto',\n        listStyle: 'none',\n      }}\n    >\n      <li>\n        <NavLink to={routes.HOME}>Home</NavLink>\n      </li>\n      <li>\n        <NavLink to={routes.MOVIES}>Movies</NavLink>\n      </li>\n    </ul>\n  );\n};\n\nexport default Nav;\n","import React, { Component } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport HomePage from './pages/HomePage/HomePage';\nimport MoviesPage from './pages/MoviesPage/MoviesPage';\nimport MovieDetailsPage from './pages/MovieDetailsPage/MovieDetailsPage';\n\nimport routes from './routes';\nimport NotFoundPage from './pages/NotFound/NotFound';\nimport Nav from './Nav/Nav';\n\nclass App extends Component {\n  state = {};\n\n  render() {\n    return (\n      <>\n        <Nav />\n        <Switch>\n          <Route exact path={routes.HOME} component={HomePage} />\n          <Route exact path={routes.MOVIES} component={MoviesPage} />\n          <Route path={routes.MOVIES_DETAILS} component={MovieDetailsPage} />\n\n          <Route component={NotFoundPage} />\n        </Switch>\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}